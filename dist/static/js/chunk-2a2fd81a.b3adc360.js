(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a2fd81a"],{"033d":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-container",[e("el-header",{staticClass:"header-text-line-height h1-font header-bottom-border"},[t._v("\n    用户行为\n  ")]),t._v(" "),e("el-main",[e("el-row",[e("el-col",{attrs:{span:6}},[e("el-container",[e("el-main",{staticClass:"bold-weight-font el-main-1"},[t._v("\n            date_time:\n          ")]),t._v(" "),e("el-footer",{staticClass:"el-main-1"},[e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyyMMdd"},model:{value:t.dateValue,callback:function(a){t.dateValue=a},expression:"dateValue"}})],1)],1)],1),t._v(" "),e("el-col",{attrs:{span:6,offset:1}},[e("el-container",[e("el-main",{staticClass:"bold-weight-font el-main-1"},[t._v("\n            material_pos:\n          ")]),t._v(" "),e("el-footer",{staticClass:"el-main-1"},[e("el-select",{attrs:{placeholder:""},model:{value:t.totalValue,callback:function(a){t.totalValue=a},expression:"totalValue"}},t._l(t.totalOptions,function(t,a){return e("el-option",{key:a,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1),t._v(" "),e("el-col",{attrs:{span:2}},[e("el-button",{staticClass:"btn-margin",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.searchInfo}},[t._v("查询")])],1)],1),t._v(" "),e("el-row",{staticClass:"common-container top-radius"},[e("el-col",{attrs:{span:24}},[e("panel-top",{attrs:{title:"用户行为数据查询结果"}}),t._v(" "),e("el-row",[e("el-col",{staticClass:"table-margin",attrs:{span:24}},[e("data-table",{attrs:{"table-data":t.currTableData,"filter-field":t.filterValue}})],1)],1)],1)],1)],1)],1)},l=[],o=e("7c1d"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-table",{attrs:{data:t.tableData,stripe:""}},t._l(t.tableOptions,function(t,a){return e("el-table-column",{key:a,attrs:{prop:t.prop,label:t.label}})}),1)},r=[],c=[{prop:"send_pv",label:"下发pv"},{prop:"send_uv",label:"下发uv"},{prop:"send_prod",label:"下发素材"},{prop:"action_pv",label:"点击pv"},{prop:"action_uv",label:"点击uv"},{prop:"action_prod",label:"点击素材"},{prop:"date_time",label:"日期"}],s=[].concat(c,[{prop:"av_send",label:"平均下发"},{prop:"av_action",label:"平均点击"}]),u=[].concat(c),d={name:"DataTable",props:{tableData:{type:Array,default:null},filterField:{type:String,default:"date_time"}},data:function(){return{tableOptions:u}},watch:{filterField:function(t){this.tableOptions="date_time"===t?u:s}}},p=d,f=e("2877"),v=Object(f["a"])(p,i,r,!1,null,"47338876",null),h=v.exports,b=e("f8c8"),_=e("a27e");function m(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"10";return Object(_["a"])({url:"".concat(b["a"],"/4/data/dspActStat"),method:"get",params:{source:b["b"],dt:t,material_pos:a,is_material:e,limit:n}})}var g=e("c466"),y=(e("ac6a"),e("456d"),{product:"send_prod",uv:"send_uv",pv:"send_pv"}),O={product:"action_prod",uv:"action_uv",pv:"action_pv"},V={action:"av_action",send:"av_send"},k=["action_statistic","material_statistic","send_statistic"],D=["action_statistic","send_statistic"],j=[O,V,y],w=[O,y];function C(t){var a=[];if(0===Object.keys(t.data).length)return a;var e=[];return Object.keys(t.data).forEach(function(a){e.push({date_time:a,value:t.data[a]})}),e[0].value.material_pos.forEach(function(t){a.push({label:t+"",value:t+""})}),a}function E(t){var a=[];if(0===Object.keys(t.data).length)return a;var e=0;return Object.keys(t.data).forEach(function(n){a.push({date_time:n});for(var l=t.data[n],o=function(t){Object.keys(l[k[t]]).forEach(function(n){"rate"!==n&&(a[e][j[t][n]]=l[k[t]][n])})},i=0;i<k.length;i++)o(i);e++}),a}function T(t){var a=[];if(0===Object.keys(t.data).length)return a;var e=0;return Object.keys(t.data).forEach(function(n){a.push({date_time:n});for(var l=t.data[n],o=function(t){Object.keys(l[D[t]]).forEach(function(n){"rate"!==n&&(a[e][w[t][n]]=l[D[t]][n])})},i=0;i<D.length;i++)o(i);e++}),a}var A={name:"UserBehavior",components:{PanelTop:o["a"],DataTable:h},data:function(){return{totalValue:"total",totalOptions:[],dateValue:"",currTableData:[],filterValue:"date_time"}},created:function(){this.initApiData(Object(g["a"])(0,0,-1))},methods:{searchInfo:function(){""!==this.dateValue&&this.dateValue?"total"!==this.totalValue?(this.filterValue="",this.initApiData(Object(g["a"])(0,0,0,this.dateValue),!1)):(this.filterValue="date_time",this.initApiData(Object(g["a"])(0,0,0,this.dateValue))):this.$message.error("查询项为空")},initApiData:function(t){var a=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];m(t,this.totalValue).then(function(t){a.totalOptions=C(t.data),a.currTableData=e?T(t.data):E(t.data),0===a.currTableData.length&&(a.totalValue="total")}).catch(function(t){console.log(t),a.$notify({title:"未知错误",message:"请检查网络后刷新重试",type:"error"})})}}},x=A,M=(e("7268"),Object(f["a"])(x,n,l,!1,null,"7723d55f",null));a["default"]=M.exports},7268:function(t,a,e){"use strict";var n=e("ce04"),l=e.n(n);l.a},a27e:function(t,a,e){"use strict";var n=e("bc3a"),l=e.n(n),o=l.a.create({baseURL:"",timeout:5e3});o.interceptors.request.use(),o.interceptors.response.use(),a["a"]=o},c466:function(t,a,e){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date,l=n.getMonth()+1+a<10?"0".concat(n.getMonth()+1):n.getMonth()+1+a,o=n.getDate()+e<10?"0".concat(n.getDate()):n.getDate()+e;return"".concat(n.getFullYear()+t).concat(l).concat(o)}e.d(a,"a",function(){return n})},ce04:function(t,a,e){},f8c8:function(t,a,e){"use strict";e.d(a,"a",function(){return n}),e.d(a,"b",function(){return l});var n="/weibo",l="3567320871234567890"}}]);